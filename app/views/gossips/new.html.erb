<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <div class="container">

      <h1>Create a new gossip</h1>

      <%= form_tag url_for(action: 'create'), method: "post" do %>
        <div class="form-group">
          <%= label_tag 'title' %>
          <%= text_field_tag 'title',nil, class: 'form-control', placeholder: 'Enter Title' %>
        </div>

        <div class="form-group">
          <%= label_tag 'content' %>
          <%= text_area_tag 'content',nil, class: 'form-control', placeholder: 'Enter Content' %>
        </div>
        <div class="form-group">
          <%= label_tag 'tags' %>
          <%= select_tag 'tags', options_for_select(@tags.collect{ |u| [u.title, u.id] }), multiple: true, class: 'custom-select' %>
        </div>
        <div class="form-group">
          <%= submit_tag "Create Post", class: 'btn btn-primary' %>
        </div>

      <% end %>
      <br />

      <% if !@gossip.nil? %>
        <% if @gossip.errors.any? %>
          <div class="alert alert-danger" role="alert">
            <p>Nous n'avons pas réussi à créer le potin pour la (ou les) raison(s) suivante(s) :</p>
            <ul>
              <% @gossip.errors.full_messages.each do |message| %>
                <li><%= message %></li>
              <% end %>
            </ul>
          </div>
        <% end %>
      <% end %>

      <p><%= link_to "Retourner à la liste des gossips", gossips_path, :class => 'btn btn-success' %></p>
    </div>
  </body>
</html>
